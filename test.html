
 <!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>نمایش داده‌های JSON</title>
  <style>
    body {
      font-family: Tahoma, Arial, sans-serif;
      direction: rtl;
      padding: 20px;
      background: #f4f4f4;
      color: #333;
      line-height: 1.6;
    }
    h1 { text-align: center; color: #2c3e50; }
    #loading { text-align: center; font-size: 18px; color: #3498db; margin: 30px; }
    #error { text-align: center; color: #e74c3c; margin: 30px; }
    .item {
      background: white;
      margin: 15px auto;
      max-width: 600px;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    .item h3 {
      margin: 0 0 10px 0;
      color: #2980b9;
    }
    .item p {
      margin: 8px 0;
    }
  </style>
</head>
<body>

  <h1>لیست محصولات</h1>
  <div id="loading">در حال بارگذاری داده‌ها...</div>
  <div id="error"></div>
  <div id="content"></div>

  <script>
    // لینک raw فایل JSON خودت را اینجا بگذار
    const jsonUrl = 'https://raw.githubusercontent.com/abdhmohammadi/website-data/refs/heads/master/edu-assessments-data.json';

    // یا از jsDelivr (توصیه می‌شود):
    // const jsonUrl = 'https://cdn.jsdelivr.net/gh/USERNAME/my-json-data@main/data.json';

    const loadingEl = document.getElementById('loading');
    const errorEl = document.getElementById('error');
    const contentEl = document.getElementById('content');
    var json_data =JSON.parse("{}");
    fetch(jsonUrl).then(response => 
    {
        if (!response.ok) {
          throw new Error(`خطا ${response.status}: نمی‌توان فایل را دریافت کرد`);
        }
        return response.json();
    })
    .then(data => 
      {
        loadingEl.style.display = 'none';
        let json_data = data
        // بررسی اینکه data یک آبجکت است (نه آرایه)
        if (typeof data === 'object' && data !== null && !Array.isArray(data)) 
        {
          // لوپ روی تمام کلیدهای سطح اول (item1, item2, ...)
          Object.keys(json_data).forEach(key => 
          {
            const item = json_data[key];  // هر آیتم خودش یک آبجکت JSON است

            const div = document.createElement('div');
            div.className = 'item';

            // اینجا می‌تونی فیلدهای دلخواهت رو نمایش بدی
            // فقط نام فیلدها رو با ساختار JSON خودت تطبیق بده
            div.innerHTML = `
              <h3>${item.title || 'بدون نام'}</h3>
              <p><strong>تعداد:</strong> ${ (item.TextBooks.length || 0).toLocaleString('fa-IR') } تومان</p>
              <p><strong>دسته‌بندی:</strong> ${item.category || 'نامشخص'}</p>
              <p><strong>موجودی:</strong> ${item.stock || 0} عدد</p>
              ${item.description ? `<p><strong>توضیحات:</strong> ${item.description}</p>` : ''}
            `;

            contentEl.appendChild(div);
          });
        } else {
          // اگر ساختار آرایه بود (برای احتیاط)
          contentEl.innerHTML = '<p style="text-align:center;">ساختار JSON پشتیبانی نمی‌شود یا داده خالی است.</p>';
        }
      })
      .catch(err => {
        loadingEl.style.display = 'none';
        errorEl.textContent = 'خطا در بارگذاری داده‌ها: ' + err.message;
        console.error(err);
      });
  </script>

</body>
</html>